<script lang="ts">
  import clsx from 'clsx';

  import { uppercaseFirstLetter } from '$lib/utils/string';

  export let width = 28;
  export let height = 28;
  export let type: 'discord' | 'gitHub' | 'twitter';
  export let title = uppercaseFirstLetter(type);
  export let showTitle = false;

  let _class = '';
  export { _class as class };

  const href = {
    discord: 'https://discord.gg/QAjfh2gZE4',
    gitHub: 'https://github.com/vidstack',
    twitter: 'https://twitter.com/vidstackjs?lang=en',
  };
</script>

<a
  href={href[type]}
  class={clsx(
    'group relative flex transform-gpu items-center rounded-md border-0 p-2 transition-transform hover:scale-[1.1]',
  )}
  target="_blank"
  rel="noreferrer"
>
  {#if type === 'discord'}
    <svg
      class={clsx($$slots.default && 'mr-2.5', _class)}
      {width}
      {height}
      viewBox="0 0 28 28"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M16.9985 5.99809C18.4898 6.25657 19.9217 6.70284 21.2452 7.31723C21.2607 7.3244 21.2788 7.32583 21.2932 7.33489C21.2959 7.33657 21.2983 7.33847 21.3007 7.3405C21.3062 7.34533 21.3107 7.35121 21.3149 7.35729C23.6808 10.8451 24.8484 14.7723 24.4087 19.2985C24.4087 19.3154 24.4015 19.3324 24.3871 19.3433C24.3819 19.3472 24.376 19.3504 24.3707 19.3543C22.5736 20.6709 20.8461 21.4693 19.1286 21.9985C19.1108 22.0045 19.093 22.0034 19.0752 21.9994C19.051 21.994 19.0309 21.9776 19.0166 21.9574C18.6368 21.4191 18.2858 20.8523 17.9729 20.2568C17.97 20.2513 17.9674 20.2455 17.9662 20.2393C17.9608 20.2093 17.9724 20.1675 18.0086 20.1585C18.5757 19.9396 19.123 19.691 19.6407 19.3832C19.646 19.38 19.6516 19.3775 19.6569 19.3745C19.6985 19.3515 19.6963 19.2967 19.6586 19.2685C19.6036 19.2235 19.5486 19.181 19.4936 19.1385C19.4386 19.096 19.3836 19.0535 19.3286 19.0084C19.3086 18.9884 19.2786 18.9884 19.2586 18.9984C15.8585 20.5685 12.1484 20.5685 8.70831 18.9984C8.69052 18.9896 8.66482 18.9886 8.64528 19.0025C8.64032 19.0061 8.63583 19.0102 8.63091 19.0138C8.57837 19.0523 8.52584 19.0929 8.4733 19.1335C8.42076 19.174 8.36823 19.2146 8.31569 19.2531C8.31077 19.2567 8.30597 19.2605 8.3023 19.2654C8.2785 19.2969 8.28117 19.3499 8.3183 19.3685C8.84831 19.6685 9.38833 19.9285 9.95834 20.1485C9.99834 20.1585 10.0183 20.1985 9.99834 20.2385C9.6898 20.8456 9.33173 21.423 8.93399 21.9707C8.93021 21.9759 8.92717 21.9817 8.92286 21.9865C8.90974 22.001 8.88403 22.0071 8.85831 21.9985C7.1508 21.4693 5.42335 20.6709 3.62618 19.3543C3.62087 19.3504 3.61502 19.3472 3.60977 19.3433C3.59537 19.3324 3.58817 19.3154 3.58817 19.2985C3.21845 15.3814 3.967 11.4244 6.68187 7.35768C6.68608 7.35137 6.6919 7.34424 6.69752 7.33915C6.70998 7.32789 6.72614 7.32447 6.74139 7.31744C8.0718 6.7043 9.49067 6.25858 10.9785 5.99981C10.9851 5.99867 10.9917 5.99797 10.9984 5.99847C11.0248 6.00045 11.0495 6.01033 11.0584 6.02809C11.233 6.33132 11.4244 6.71053 11.563 7.03385C11.5841 7.08322 11.6357 7.11244 11.6889 7.10474C13.2209 6.88253 14.777 6.88258 16.309 7.10488C16.3617 7.11252 16.413 7.08389 16.4343 7.03509C16.571 6.7224 16.7584 6.34103 16.9221 6.03985C16.9264 6.032 16.9313 6.02447 16.9382 6.01876C16.9448 6.01327 16.9522 6.00873 16.9602 6.00532C16.9723 6.00014 16.9854 5.99767 16.9985 5.99809ZM8.6283 14.7883C8.6283 15.9584 9.48833 16.9084 10.5184 16.9084C11.5684 16.9084 12.4084 15.9584 12.4084 14.7883C12.4184 13.6283 11.5784 12.6683 10.5184 12.6683C9.46833 12.6683 8.6283 13.6183 8.6283 14.7883ZM15.5985 14.7883C15.5985 15.9584 16.4585 16.9084 17.4885 16.9084C18.5486 16.9084 19.3786 15.9584 19.3786 14.7883C19.3886 13.6283 18.5486 12.6683 17.4885 12.6683C16.4385 12.6683 15.5985 13.6183 15.5985 14.7883Z"
        fill="currentColor"
      />
    </svg>
  {:else if type === 'gitHub'}
    <svg
      class={clsx($$slots.default && 'mr-2.5', _class)}
      {width}
      {height}
      viewBox="0 0 28 28"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M4.66663 14.2298C4.66663 9.07315 8.8433 4.89648 14 4.89648C19.1566 4.89648 23.3333 9.07315 23.3333 14.2298C23.3328 16.1853 22.7191 18.0913 21.5785 19.6797C20.438 21.2681 18.8281 22.4588 16.9754 23.0843C16.5088 23.1777 16.3333 22.8865 16.3333 22.6419C16.3333 22.5364 16.3347 22.3539 16.3365 22.1109C16.3401 21.6277 16.3454 20.9056 16.3454 20.0753C16.3454 19.3645 16.1528 18.8616 15.8996 18.5417C15.8364 18.4619 15.8797 18.3295 15.9806 18.3157C17.9735 18.0428 19.9733 17.1697 19.9733 13.7398C19.9733 12.7415 19.6309 11.9311 19.0653 11.2864C19.0358 11.2528 19.0272 11.2062 19.0423 11.1641C19.1543 10.8515 19.3896 9.96757 18.9433 8.80962C18.9309 8.77747 18.9046 8.7527 18.8706 8.7472C18.6704 8.71485 17.8916 8.68223 16.4024 9.6834C16.3738 9.70261 16.3375 9.70892 16.3043 9.69983C15.573 9.49953 14.7981 9.39982 14.0233 9.39982C13.2527 9.39831 12.4854 9.49964 11.7418 9.70107C11.7089 9.70999 11.6729 9.70376 11.6445 9.68486C10.1576 8.69471 9.37942 8.71714 9.17725 8.74682C9.14255 8.75191 9.11549 8.77695 9.10289 8.80968C8.65716 9.96713 8.89233 10.8507 9.00429 11.1632C9.01936 11.2052 9.01075 11.2519 8.98129 11.2855C8.41487 11.9316 8.0733 12.7523 8.0733 13.7398C8.0733 17.1588 10.0636 18.0422 12.0561 18.3158C12.1568 18.3296 12.2002 18.4614 12.1372 18.5412C11.9546 18.7723 11.8021 19.0997 11.7338 19.5328C11.7276 19.5723 11.7027 19.6067 11.6658 19.6224C11.0962 19.8664 9.81747 20.1887 9.00663 18.8265C8.83116 18.5465 8.30663 17.8577 7.57116 17.8698C6.78996 17.881 7.25663 18.3131 7.5833 18.4877C7.97996 18.7098 8.4345 19.5377 8.53996 19.8065C8.72288 20.3214 9.30907 21.2951 11.5385 20.9275C11.6104 20.9156 11.6778 20.9704 11.678 21.0433C11.6788 21.5026 11.6833 21.9353 11.6866 22.2445C11.6885 22.4256 11.69 22.5642 11.69 22.641C11.69 22.8849 11.5176 23.163 11.0575 23.0868C11.0518 23.0858 11.046 23.0844 11.0405 23.0825C9.1849 22.463 7.57097 21.2758 6.4271 19.6886C5.28152 18.099 4.66557 16.1891 4.66663 14.2298Z"
        fill="currentColor"
      />
    </svg>
  {:else if type === 'twitter'}
    <svg
      class={clsx($$slots.default && 'mr-2.5', _class)}
      {width}
      {height}
      viewBox="0 0 28 28"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M21.6237 8.58396C21.5008 8.62114 21.438 8.47034 21.5378 8.38945C22.0442 7.97889 22.4413 7.44747 22.6915 6.84274C22.7334 6.74132 22.6225 6.65027 22.526 6.70249C21.8547 7.06564 21.1325 7.32764 20.3836 7.48203C20.3433 7.49033 20.3017 7.47674 20.2732 7.44717C19.6907 6.84476 18.9295 6.4451 18.1017 6.30821C17.2521 6.16772 16.3798 6.31186 15.6206 6.71823C14.8613 7.1246 14.2576 7.77043 13.9032 8.55531C13.5707 9.292 13.4753 10.1125 13.628 10.9036C13.643 10.9814 13.5822 11.0544 13.5031 11.0493C12.0045 10.9528 10.5406 10.5529 9.20032 9.87344C7.86413 9.19604 6.67952 8.2553 5.71748 7.10849C5.66397 7.0447 5.56312 7.05266 5.52445 7.12639C5.2314 7.6852 5.07812 8.30771 5.07901 8.94042C5.07901 10.1459 5.62502 11.2264 6.48396 11.9435C6.57583 12.0202 6.52354 12.1531 6.40784 12.1224C6.20902 12.0698 5.99639 11.9954 5.79972 11.9265C5.38864 11.7826 5.04725 11.6631 5.04725 11.8177C5.04743 12.72 5.35963 13.5292 5.93092 14.2275C6.39536 14.7952 7.00781 15.2181 7.69581 15.4526C7.8147 15.4931 7.8129 15.6672 7.68847 15.6843C7.33238 15.7332 6.97078 15.7332 6.6138 15.6838C6.52428 15.6714 6.45011 15.756 6.48211 15.8405C6.74621 16.5381 7.20496 17.147 7.80575 17.5937C8.37057 18.0136 9.03653 18.2721 9.73252 18.3448C9.8439 18.3564 9.88981 18.5007 9.79887 18.5661C9.05397 19.1014 8.22019 19.5024 7.33515 19.75C6.50942 19.981 5.65254 20.0747 4.79868 20.0285C4.67242 20.0217 4.61532 20.1903 4.72476 20.2536C6.40752 21.2274 8.3204 21.7417 10.2707 21.7398C17.458 21.7398 21.3885 15.7858 21.3885 10.6221C21.3885 10.4755 21.3849 10.3275 21.3791 10.1818C21.3774 10.1417 21.3955 10.1038 21.4277 10.0799C22.196 9.50725 23.4331 8.21878 23.327 8.09588C23.3264 8.0952 23.326 8.09448 23.3256 8.09364C23.3253 8.09289 23.3252 8.09203 23.3251 8.09123C23.3189 7.97738 22.9225 8.12331 22.4348 8.30286C22.1753 8.39839 21.8899 8.50345 21.6237 8.58396Z"
        fill="currentColor"
      />
    </svg>
  {/if}
  <span
    class={clsx(showTitle ? '768:block text-soft group-hover:text-inverse ml-2 hidden' : 'sr-only')}
  >
    {title}
  </span>
  <slot />
</a>
